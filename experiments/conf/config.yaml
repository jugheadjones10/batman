defaults:
  - experiment: exp_person_100  # Default experiment
  - _self_

# Project settings
project_dir: data/projects/Test
output_dataset: datasets/experiment_${experiment.name}

# Classes to train on
classes:
  - crane hook
  - person

# Training settings
training:
  epochs: 50
  batch_size: 16
  image_size: 640
  lr: 1e-4
  patience: 10
  model: base

# Test videos for inference after training
test_videos:
  - crane_hook+human_short.mp4
  - crane_hook_1_short.mp4

# Hydra output directory config
hydra:
  run:
    dir: experiments/outputs/${experiment.name}/${now:%Y-%m-%d_%H-%M-%S}
  sweep:
    dir: experiments/multirun/${now:%Y-%m-%d_%H-%M-%S}
    subdir: ${experiment.name}
  
  # SLURM launcher config (used when running with --multirun)
  launcher:
    _target_: hydra_plugins.hydra_submitit_launcher.submitit_launcher.SlurmLauncher
    submitit_folder: ${hydra.sweep.dir}/.submitit/%j
    partition: gpu-long
    qos: normal
    gpus_per_node: 1
    cpus_per_task: 8
    mem_gb: 64
    timeout_min: 1440  # 24 hours
    constraint: "h100-96"
    additional_parameters:
      mail-type: END,FAIL
      mail-user: e0425887@u.nus.edu
    array_parallelism: 4
